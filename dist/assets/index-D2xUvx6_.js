(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();var A=(i=>(i["catalogItems:changed"]="catalogItems:changed",i["linkForm:open"]="linkForm:open",i["catalogItem:picked"]="catalogItem:picked",i["modal:close"]="modal:close",i["popularItems: picked"]="popularItems: picked",i["catalog:scrolledBack"]="catalog:scrolledBack",i["catalog:scrolledForward"]="catalog:scrolledForward",i["catalog:scrolled"]="catalog:scrolled",i))(A||{});function ke(i){const e=String(i);return e.length==1?`0${e}`:e}function qe(i){return i.length>1&&i.startsWith("0")?i.slice(1):i}function Me(i){const e=i.target;e&&(e.value=e.value.replace(/\D/g,""))}function Be(i){let e="";switch(i.toString().length){case 4:case 5:case 6:e=`${Math.round(i/1e3)}Kb`;break;case 7:case 8:case 9:e=`${Math.round(i/(1e3*1e3))}Mb`;break;default:e=`${i}b`}return e}function Se(i){return typeof i=="string"&&i.length>1}function Ae(i,e=document){if(Se(i))return Array.from(e.querySelectorAll(i));if(i instanceof NodeList)return Array.from(i);if(Array.isArray(i))return i;throw new Error("Unknown selector element")}function f(i,e){if(Se(i)){const t=Ae(i,e);if(t.length>1&&console.warn(`selector ${i} return more then one element`),t.length===0)throw new Error(`selector ${i} return nothing`);return t.pop()}if(i instanceof HTMLElement)return i;throw new Error("Unknown selector element")}function te(i){return f(i).content.firstElementChild.cloneNode(!0)}class Ve{_events;constructor(){this._events=new Map}on(e,t){this._events.has(e)||this._events.set(e,new Set),this._events.get(e)?.add(t)}off(e,t){this._events.has(e)&&(this._events.get(e).delete(t),this._events.get(e)?.size===0&&this._events.delete(e))}emit(e,t){this._events.forEach((r,n)=>{n==="*"&&r.forEach(o=>o({eventName:e,data:t})),(n instanceof RegExp&&n.test(e)||n===e)&&r.forEach(o=>o(t))})}onAll(e){this.on("*",e)}offAll(){this._events=new Map}trigger(e,t){return(r={})=>{this.emit(e,{...r||{},...t||{}})}}}const Ce=[{id:"1",title:"Строительные решения",src:"./src/images/catalog/constructions/construction.jpg",href:"#",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",categoryOffers:[{id:"1",title:"Корзины для кондиционеров",src:"./src/images/catalog/constructions/offers/baskets.png",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",href:"",items:[{id:"1",title:"Корзина Alice Judge",src:"./src/images/topproducts/3.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit.",hit:!0},{id:"2",title:"Корзина Adriana",src:"./src/images/topproducts/36.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. ",hit:!0},{id:"1",title:"Корзина Alice Judge",src:"./src/images/topproducts/3.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit.",hit:!0},{id:"2",title:"Корзина Adriana",src:"./src/images/topproducts/36.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. ",hit:!0},{id:"1",title:"Корзина Alice Judge",src:"./src/images/topproducts/3.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit.",hit:!0},{id:"2",title:"Корзина Adriana",src:"./src/images/topproducts/36.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. ",hit:!0}]},{id:"02",title:"Кровельные люки",src:"./src/images/catalog/constructions/offers/lukes.png",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",href:"",items:[]},{id:"03",title:"Решетки шумоподавления",src:"./src/images/catalog/constructions/offers/noiseoff.png",description:"#",href:"",items:[]},{id:"04",title:"Подставки для кондиционеров",src:"./src/images/catalog/constructions/offers/underbaskets.png",description:"#",href:"",items:[]}]},{id:"2",title:"Сервисное оборудование",src:"./src/images/catalog/service/garage.jpg.webp",href:"#",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",categoryOffers:[{id:"1",title:"Станки",src:"./src/images/catalog/constructions/offers/baskets.png",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",href:"",items:[{id:"1",title:"Станок Khristen hancher",src:"./src/images/topproducts/4.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",hit:!0}]},{id:"02",title:"Инструменты",src:"./src/images/catalog/constructions/offers/lukes.png",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",href:"",items:[{id:"1",title:"Threesome",src:"./src/images/topproducts/36.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",hit:!0}]}]},{id:"3",title:"Мангальные зоны",src:"./src/images/catalog/brazier/barbeque.jpg",href:"#",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",categoryOffers:[]},{id:"4",title:"Банные чаны",src:"./src/images/catalog/bathtub/bathtub.jpg",href:"#",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",categoryOffers:[]},{id:"5",title:"Что-то еще через 2 месяца",src:"./src/images/catalog/bathtub/bathtub.jpg",href:"#",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet mollitia accusamus labore, ducimus vitae perspiciatis quod.",categoryOffers:[]}];class je{constructor(e){this.events=e}catalogItems=[];getCatalogItems(){return this.catalogItems}getCatalogCategoryById(e){return this.catalogItems.find(t=>t.id===e)||null}setCatalogItems(){this.catalogItems=Ce,this.events.emit(A["catalogItems:changed"])}}class R{constructor(e){this.container=e}setText(e,t){e&&(e.textContent=String(t))}setImage(e,t,r){e&&(e.src=t,r&&(e.alt=r))}render(e){return Object.assign(this,e??{}),this.container}}class Ke extends R{constructor(e,t){super(e),this.events=t,this.cardLink=f(".catalog-item__link",this.container),this.cardImage=f(".catalog-item__image",this.container),this.cardTitle=f(".catalog-item__heading",this.container),this.cardId=f(".catalog-item__index",this.container),this.cardLink.addEventListener("click",r=>{r.preventDefault(),t.emit(A["catalogItem:picked"],{id:qe(this.cardId.textContent)}),console.log(window.location.href)})}cardLink;cardImage;cardId;cardTitle;set id(e){this.setText(this.cardId,ke(+e))}set title(e){this.setText(this.cardTitle,e)}set src(e){this.setImage(this.cardImage,e)}set href(e){this.cardLink.setAttribute("href",e)}}class $e extends R{constructor(e,t){super(e),this.events=t,this.itemsContainer=f(".catalog-list",this.container)}itemsContainer;getContainer(){return this.container}getListContainer(){return this.itemsContainer}set items(e){this.itemsContainer.replaceChildren(...e)}}/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ie=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],J=Ie.join(","),Ne=typeof Element>"u",D=Ne?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Z=!Ne&&Element.prototype.getRootNode?function(i){var e;return i==null||(e=i.getRootNode)===null||e===void 0?void 0:e.call(i)}:function(i){return i?.ownerDocument},G=function(e,t){var r;t===void 0&&(t=!0);var n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=n===""||n==="true",a=o||t&&e&&G(e.parentNode);return a},We=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Fe=function(e,t,r){if(G(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(J));return t&&D.call(e,J)&&n.unshift(e),n=n.filter(r),n},X=function(e,t,r){for(var n=[],o=Array.from(e);o.length;){var a=o.shift();if(!G(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),d=u.length?u:a.children,m=X(d,!0,r);r.flatten?n.push.apply(n,m):n.push({scopeParent:a,candidates:m})}else{var p=D.call(a,J);p&&r.filter(a)&&(t||!e.includes(a))&&n.push(a);var w=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),I=!G(w,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(w&&I){var C=X(w===!0?a.children:w.children,!0,r);r.flatten?n.push.apply(n,C):n.push({scopeParent:a,candidates:C})}else o.unshift.apply(o,a.children)}}return n},Oe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},x=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||We(e))&&!Oe(e)?0:e.tabIndex},Ge=function(e,t){var r=x(e);return r<0&&t&&!Oe(e)?0:r},ze=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},xe=function(e){return e.tagName==="INPUT"},He=function(e){return xe(e)&&e.type==="hidden"},Ue=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Ye=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Je=function(e){if(!e.name)return!0;var t=e.form||Z(e),r=function(u){return t.querySelectorAll('input[type="radio"][name="'+u+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=r(window.CSS.escape(e.name));else try{n=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=Ye(n,e.form);return!o||o===e},Ze=function(e){return xe(e)&&e.type==="radio"},Xe=function(e){return Ze(e)&&!Je(e)},Qe=function(e){var t,r=e&&Z(e),n=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var a,u,d;for(o=!!((a=n)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(n)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!o&&n;){var m,p,w;r=Z(n),n=(m=r)===null||m===void 0?void 0:m.host,o=!!((p=n)!==null&&p!==void 0&&(w=p.ownerDocument)!==null&&w!==void 0&&w.contains(n))}}return o},ve=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return r===0&&n===0},et=function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var o=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!o}if(getComputedStyle(e).visibility==="hidden")return!0;var a=D.call(e,"details>summary:first-of-type"),u=a?e.parentElement:e;if(D.call(u,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof n=="function"){for(var d=e;e;){var m=e.parentElement,p=Z(e);if(m&&!m.shadowRoot&&n(m)===!0)return ve(e);e.assignedSlot?e=e.assignedSlot:!m&&p!==e.ownerDocument?e=p.host:e=m}e=d}if(Qe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ve(e);return!1},tt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if(n.tagName==="LEGEND")return D.call(t,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}t=t.parentElement}return!1},Q=function(e,t){return!(t.disabled||G(t)||He(t)||et(t,e)||Ue(t)||tt(t))},oe=function(e,t){return!(Xe(t)||x(t)<0||!Q(e,t))},it=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},De=function(e){var t=[],r=[];return e.forEach(function(n,o){var a=!!n.scopeParent,u=a?n.scopeParent:n,d=Ge(u,a),m=a?De(n.candidates):u;d===0?a?t.push.apply(t,m):t.push(u):r.push({documentOrder:o,tabIndex:d,item:n,isScope:a,content:m})}),r.sort(ze).reduce(function(n,o){return o.isScope?n.push.apply(n,o.content):n.push(o.content),n},[]).concat(t)},rt=function(e,t){t=t||{};var r;return t.getShadowRoot?r=X([e],t.includeContainer,{filter:oe.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:it}):r=Fe(e,t.includeContainer,oe.bind(null,t)),De(r)},at=function(e,t){t=t||{};var r;return t.getShadowRoot?r=X([e],t.includeContainer,{filter:Q.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Fe(e,t.includeContainer,Q.bind(null,t)),r},P=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return D.call(e,J)===!1?!1:oe(t,e)},nt=Ie.concat("iframe").join(","),se=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return D.call(e,nt)===!1?!1:Q(t,e)};/*!
* focus-trap 7.6.6
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ce(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=Array(e);t<e;t++)r[t]=i[t];return r}function st(i){if(Array.isArray(i))return ce(i)}function ot(i,e,t){return(e=ft(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function ct(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function be(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ge(Object(t),!0).forEach(function(r){ot(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ge(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function ut(i){return st(i)||ct(i)||mt(i)||lt()}function dt(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function ft(i){var e=dt(i,"string");return typeof e=="symbol"?e:e+""}function mt(i,e){if(i){if(typeof i=="string")return ce(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ce(i,e):void 0}}var ye={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r._setPausedState(!0)}var n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},pt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ht=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},W=function(e){return e?.key==="Tab"||e?.keyCode===9},vt=function(e){return W(e)&&!e.shiftKey},gt=function(e){return W(e)&&e.shiftKey},we=function(e){return setTimeout(e,0)},$=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return typeof e=="function"?e.apply(void 0,r):e},H=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},bt=[],yt=function(e,t){var r=t?.document||document,n=t?.trapStack||bt,o=be({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:vt,isKeyBackward:gt},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,d=function(s,c,l){return s&&s[c]!==void 0?s[c]:o[l||c]},m=function(s,c){var l=typeof c?.composedPath=="function"?c.composedPath():void 0;return a.containerGroups.findIndex(function(v){var g=v.container,y=v.tabbableNodes;return g.contains(s)||l?.includes(g)||y.find(function(h){return h===s})})},p=function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=c.hasFallback,v=l===void 0?!1:l,g=c.params,y=g===void 0?[]:g,h=o[s];if(typeof h=="function"&&(h=h.apply(void 0,ut(y))),h===!0&&(h=void 0),!h){if(h===void 0||h===!1)return h;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var T=h;if(typeof h=="string"){try{T=r.querySelector(h)}catch(E){throw new Error("`".concat(s,'` appears to be an invalid selector; error="').concat(E.message,'"'))}if(!T&&!v)throw new Error("`".concat(s,"` as selector refers to no known node"))}return T},w=function(){var s=p("initialFocus",{hasFallback:!0});if(s===!1)return!1;if(s===void 0||s&&!se(s,o.tabbableOptions))if(m(r.activeElement)>=0)s=r.activeElement;else{var c=a.tabbableGroups[0],l=c&&c.firstTabbableNode;s=l||p("fallbackFocus")}else s===null&&(s=p("fallbackFocus"));if(!s)throw new Error("Your focus-trap needs to have at least one focusable element");return s},I=function(){if(a.containerGroups=a.containers.map(function(s){var c=rt(s,o.tabbableOptions),l=at(s,o.tabbableOptions),v=c.length>0?c[0]:void 0,g=c.length>0?c[c.length-1]:void 0,y=l.find(function(E){return P(E)}),h=l.slice().reverse().find(function(E){return P(E)}),T=!!c.find(function(E){return x(E)>0});return{container:s,tabbableNodes:c,focusableNodes:l,posTabIndexesFound:T,firstTabbableNode:v,lastTabbableNode:g,firstDomTabbableNode:y,lastDomTabbableNode:h,nextTabbableNode:function(O){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,F=c.indexOf(O);return F<0?j?l.slice(l.indexOf(O)+1).find(function(K){return P(K)}):l.slice(0,l.indexOf(O)).reverse().find(function(K){return P(K)}):c[F+(j?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(s){return s.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(s){return s.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},C=function(s){var c=s.activeElement;if(c)return c.shadowRoot&&c.shadowRoot.activeElement!==null?C(c.shadowRoot):c},_=function(s){if(s!==!1&&s!==C(document)){if(!s||!s.focus){_(w());return}s.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=s,pt(s)&&s.select()}},q=function(s){var c=p("setReturnFocus",{params:[s]});return c||(c===!1?!1:s)},M=function(s){var c=s.target,l=s.event,v=s.isBackward,g=v===void 0?!1:v;c=c||H(l),I();var y=null;if(a.tabbableGroups.length>0){var h=m(c,l),T=h>=0?a.containerGroups[h]:void 0;if(h<0)g?y=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:y=a.tabbableGroups[0].firstTabbableNode;else if(g){var E=a.tabbableGroups.findIndex(function(ae){var ne=ae.firstTabbableNode;return c===ne});if(E<0&&(T.container===c||se(c,o.tabbableOptions)&&!P(c,o.tabbableOptions)&&!T.nextTabbableNode(c,!1))&&(E=h),E>=0){var O=E===0?a.tabbableGroups.length-1:E-1,j=a.tabbableGroups[O];y=x(c)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else W(l)||(y=T.nextTabbableNode(c,!1))}else{var F=a.tabbableGroups.findIndex(function(ae){var ne=ae.lastTabbableNode;return c===ne});if(F<0&&(T.container===c||se(c,o.tabbableOptions)&&!P(c,o.tabbableOptions)&&!T.nextTabbableNode(c))&&(F=h),F>=0){var K=F===a.tabbableGroups.length-1?0:F+1,he=a.tabbableGroups[K];y=x(c)>=0?he.firstTabbableNode:he.firstDomTabbableNode}else W(l)||(y=T.nextTabbableNode(c))}}else y=p("fallbackFocus");return y},N=function(s){var c=H(s);if(!(m(c,s)>=0)){if($(o.clickOutsideDeactivates,s)){u.deactivate({returnFocus:o.returnFocusOnDeactivate});return}$(o.allowOutsideClick,s)||s.preventDefault()}},B=function(s){var c=H(s),l=m(c,s)>=0;if(l||c instanceof Document)l&&(a.mostRecentlyFocusedNode=c);else{s.stopImmediatePropagation();var v,g=!0;if(a.mostRecentlyFocusedNode)if(x(a.mostRecentlyFocusedNode)>0){var y=m(a.mostRecentlyFocusedNode),h=a.containerGroups[y].tabbableNodes;if(h.length>0){var T=h.findIndex(function(E){return E===a.mostRecentlyFocusedNode});T>=0&&(o.isKeyForward(a.recentNavEvent)?T+1<h.length&&(v=h[T+1],g=!1):T-1>=0&&(v=h[T-1],g=!1))}}else a.containerGroups.some(function(E){return E.tabbableNodes.some(function(O){return x(O)>0})})||(g=!1);else g=!1;g&&(v=M({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),_(v||a.mostRecentlyFocusedNode||w())}a.recentNavEvent=void 0},z=function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=s;var l=M({event:s,isBackward:c});l&&(W(s)&&s.preventDefault(),_(l))},ue=function(s){(o.isKeyForward(s)||o.isKeyBackward(s))&&z(s,o.isKeyBackward(s))},de=function(s){ht(s)&&$(o.escapeDeactivates,s)!==!1&&(s.preventDefault(),u.deactivate())},fe=function(s){var c=H(s);m(c,s)>=0||$(o.clickOutsideDeactivates,s)||$(o.allowOutsideClick,s)||(s.preventDefault(),s.stopImmediatePropagation())},me=function(){if(a.active)return ye.activateTrap(n,u),a.delayInitialFocusTimer=o.delayInitialFocus?we(function(){_(w())}):_(w()),r.addEventListener("focusin",B,!0),r.addEventListener("mousedown",N,{capture:!0,passive:!1}),r.addEventListener("touchstart",N,{capture:!0,passive:!1}),r.addEventListener("click",fe,{capture:!0,passive:!1}),r.addEventListener("keydown",ue,{capture:!0,passive:!1}),r.addEventListener("keydown",de),u},pe=function(){if(a.active)return r.removeEventListener("focusin",B,!0),r.removeEventListener("mousedown",N,!0),r.removeEventListener("touchstart",N,!0),r.removeEventListener("click",fe,!0),r.removeEventListener("keydown",ue,!0),r.removeEventListener("keydown",de),u},Re=function(s){var c=s.some(function(l){var v=Array.from(l.removedNodes);return v.some(function(g){return g===a.mostRecentlyFocusedNode})});c&&_(w())},re=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Re):void 0,V=function(){re&&(re.disconnect(),a.active&&!a.paused&&a.containers.map(function(s){re.observe(s,{subtree:!0,childList:!0})}))};return u={get active(){return a.active},get paused(){return a.paused},activate:function(s){if(a.active)return this;var c=d(s,"onActivate"),l=d(s,"onPostActivate"),v=d(s,"checkCanFocusTrap");v||I(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=C(r),c?.();var g=function(){v&&I(),me(),V(),l?.()};return v?(v(a.containers.concat()).then(g,g),this):(g(),this)},deactivate:function(s){if(!a.active)return this;var c=be({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},s);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,pe(),a.active=!1,a.paused=!1,V(),ye.deactivateTrap(n,u);var l=d(c,"onDeactivate"),v=d(c,"onPostDeactivate"),g=d(c,"checkCanReturnFocus"),y=d(c,"returnFocus","returnFocusOnDeactivate");l?.();var h=function(){we(function(){y&&_(q(a.nodeFocusedBeforeActivation)),v?.()})};return y&&g?(g(q(a.nodeFocusedBeforeActivation)).then(h,h),this):(h(),this)},pause:function(s){return a.active?(a.manuallyPaused=!0,this._setPausedState(!0,s)):this},unpause:function(s){return a.active?(a.manuallyPaused=!1,n[n.length-1]!==this?this:this._setPausedState(!1,s)):this},updateContainerElements:function(s){var c=[].concat(s).filter(Boolean);return a.containers=c.map(function(l){return typeof l=="string"?r.querySelector(l):l}),a.active&&I(),V(),this}},Object.defineProperties(u,{_isManuallyPaused:{value:function(){return a.manuallyPaused}},_setPausedState:{value:function(s,c){if(a.paused===s)return this;if(a.paused=s,s){var l=d(c,"onPause"),v=d(c,"onPostPause");l?.(),pe(),V(),v?.()}else{var g=d(c,"onUnpause"),y=d(c,"onPostUnpause");g?.(),I(),me(),V(),y?.()}return this}}}),u.updateContainerElements(e),u};class wt extends R{constructor(e,t){super(e),this.events=t,this.modal=f(".modal__container",this.container),this.modalTitle=f(".modal__heading",this.container),this.closeButton=f(".modal__close",this.container),this.modalContainer=f(".modal__content",this.container),this.closeButton.addEventListener("click",()=>{this.events.emit(A["modal:close"])}),this.focusTrap=yt(this.container,{preventScroll:!0,escapeDeactivates:!1,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!0}),this.container.addEventListener("click",r=>{r.target===r.currentTarget&&this.events.emit(A["modal:close"])})}closeButton;modalTitle;modal;modalContainer;component="";focusTrap;getModalComponent(){return this.component}set contentType(e){this.component=e}_handleEscape=e=>{e.key==="Escape"&&(this.isOpen=!1,this.events.emit(A["modal:close"]))};set isOpen(e){e===!0?(this.container.classList.add("modal_active"),this.focusTrap.activate(),document.addEventListener("keydown",this._handleEscape)):(this.container.classList.remove("modal_active"),this.focusTrap.deactivate(),document.removeEventListener("keydown",this._handleEscape))}set textTitle(e){this.setText(this.modalTitle,e)}set content(e){this.modalContainer.replaceChildren(e)}modalRender(e,t){switch(e){case"link-form":this.modal.classList.remove("modal__container_large"),this.modal.classList.add("modal__container_small"),this.modal.classList.add("block-style-1");break;case"offers-form":this.modal.classList.remove("modal__container_small"),this.modal.classList.add("modal__container_large"),this.modal.classList.add("block-style-1");break}return Object.assign(this,t??{}),this.container}}function Lt(i,e){const t=document.querySelector(".top-products__list");for(let r=0;r<i.length;r++){const n=document.createElement("li");n.classList.add("top-products__item");const o=document.createElement("a");o.classList.add("top-products-item__link"),o.setAttribute("href","#");const a=document.createElement("img");a.setAttribute("src",i[r].src),a.classList.add("top-products-item__image");const u=document.createElement("span");u.classList.add("top-products-item__index"),u.innerHTML=i[r].index;const d=document.createElement("h3");d.classList.add("top-products-item__heading"),d.innerHTML=i[r].title;const m=document.createElement("p");m.classList.add("top-products-item__description"),m.innerHTML=i[r].description;const p=document.createElement("button");p.classList.add("top-products-item_button"),p.setAttribute("name","link-form"),p.innerHTML="Узнать подробнее",o.addEventListener("click",w=>{w.preventDefault(),e.emit(A["popularItems: picked"],{id:r})}),o.append(a,u,d,m,p),n.append(o),t?.append(n)}t?.addEventListener("mouseenter",r=>{r.preventDefault()},{passive:!1})}class Tt extends R{constructor(e,t){super(e),this.events=t,this.form=f(".form-link",this.container),this.name=f(".input_name",this.container),this.phone=f(".input-phone",this.container),this.email=f(".input_email",this.container),this.file=f("#files",this.container),this.fileTitles=f(".form-input_file",this.container),this.textarea=f(".form-area",this.container),this._submitButton=f('button[type="submit"]',this.container),this.form.addEventListener("submit",r=>{r.preventDefault(),this.events.emit(`${this.container.getAttribute("name")}:submit`),this.resetForm()}),this.name.addEventListener("input",()=>{this.validateName()}),this.name.addEventListener("blur",()=>{this.validateName()}),this.phone.addEventListener("input",r=>{Me(r),this.validatePhone()}),this.phone.addEventListener("blur",()=>{this.validatePhone()}),this.email.addEventListener("input",()=>{this.validateEmail()}),this.email.addEventListener("blur",()=>{this.validateEmail()}),this.file.addEventListener("change",r=>{this.fileTitles.classList.add("form-input_file-empty"),this.fileTitles.textContent="Выберите файл...";const n=r.target,o=n.files;if(o){if(o.length===0){this.fileTitles.classList.add("form-input_file-empty"),this.fileTitles.textContent="Выберите файл...";return}if(o.length>6){n.value="",console.log(o);return}this.fileTitles.classList.remove("form-input_file-empty"),this.fileTitles.textContent="";for(let a=0;a<o.length;a++){const u=document.createElement("span");u.classList.add("form__file-item"),u.textContent=`${a+1}.${o[a].name} (${Be(o[a].size)})`,this.fileTitles.append(u)}console.log(o)}})}form;name;phone;email;fileTitles;file;textarea;_submitButton;isNameValid=!1;isPhoneValid=!1;isEmailValid=!1;validateName(){const e=this.name.value.trim(),t=/^[A-Za-zА-Яа-яЁё\s]{2,}$/;return this.isNameValid=t.test(e),!this.isNameValid&&e.length>0?this.name.classList.add("error"):this.name.classList.remove("error"),this.isNameValid}validatePhone(){const e=this.phone.value.replace(/\D/g,"");return this.isPhoneValid=e.length>=10&&e.length<=15,!this.isPhoneValid&&e.length>0?this.phone.classList.add("error"):this.phone.classList.remove("error"),this.isPhoneValid}validateEmail(){const e=this.email.value.trim(),t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return this.isEmailValid=t.test(e),!this.isEmailValid&&e.length>0?this.email.classList.add("error"):this.email.classList.remove("error"),this.isEmailValid}getFormData(){return{name:this.name.value.trim(),phone:this.phone.value,email:this.email.value.trim()}}resetForm(){this.form.reset(),this.fileTitles.classList.add("form-input_file-empty"),this.fileTitles.textContent="Выберите файл...",this.isNameValid=!1,this.isPhoneValid=!1,this.isEmailValid=!1,this.name.classList.remove("error"),this.phone.classList.remove("error"),this.email.classList.remove("error")}}function Pe(i,e,t){const r=e.querySelector(".viewer__index");r.textContent=t[i].index,e.querySelector(".viewer__image")?.setAttribute("src",t[i].src);const o=e.querySelector(".viewer__title");o.textContent=t[i].title;const a=e.querySelector(".viewer__description");a.textContent=t[i].description;const u=document.querySelectorAll(".top-products__item");u.forEach(d=>d.classList.remove("item_active")),u[i].classList.add("item_active")}class Et extends R{constructor(e,t){super(e),this.events=t,this.categoryTitle=f(".catalog-info__text-content",this.container),this.formContainer=f(".catalog-info__container",this.container)}categoryTitle;formContainer;set description(e){this.setText(this.categoryTitle,e)}set content(e){this.formContainer.replaceChildren(...e)}}class _t extends R{constructor(e,t){super(e),this.events=t,this.cardLink=f(".catalog-info__link",this.container),this.cardImage=f(".catalog-info__image",this.container),this.cardTitle=f(".catalog-info__heading",this.container),this.cardLink.addEventListener("click",r=>{r.preventDefault()})}cardLink;cardImage;cardTitle;set title(e){this.setText(this.cardTitle,e)}set src(e){this.setImage(this.cardImage,e)}set href(e){this.cardLink.setAttribute("href",e)}}function kt(){document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".top-products__list"),e=document.querySelector(".top-products__pagination");if(!i)return;const t=()=>{const o=i.scrollLeft,a=i.querySelectorAll(".top-products__item");if(a.length===0)return;const d=a[0].offsetWidth,p=window.getComputedStyle(i).getPropertyValue("gap"),w=parseInt(p)||0,I=d+w;let C=Math.round(o/I);C=Math.min(C,a.length-1),e&&(e.textContent="",a.forEach(()=>{if(e){const _=document.createElement("li");_.classList.add("top-products__pagination-item"),e?.append(_)}})),e?.children[C].classList.add("top-products__pagination-item_active")};let r;i.addEventListener("scroll",()=>{clearTimeout(r),r=window.setTimeout(t,100)}),t();let n;window.addEventListener("resize",()=>{clearTimeout(n),n=window.setTimeout(t,250)})})}function St(i){if(!i)return;const e=i.querySelectorAll("a[data-anchor]"),r=window.getComputedStyle(document.body).getPropertyValue("gap"),n=i.querySelector(".burger-menu-overlay"),o=parseInt(r)||0;e.forEach(a=>{a.addEventListener("click",u=>{u.preventDefault();const d=document.querySelector(`#${a.getAttribute("data-anchor")}`);if(!d)return;n?.classList.remove("burger-menu_active"),document.body.style.overflow="";const m=d.getBoundingClientRect().top+window.pageYOffset-o;window.scrollTo({top:m,behavior:"smooth"})})}),console.log(e)}function At(){function i(){const e=document.querySelector(".contacts__map");if(!e)return;const n=window.innerWidth<768?"https://yandex.ru/map-widget/v1/?um=constructor%3Ad5e1aac6de9e59580ab4270cb44847900d20034957d778d19a644ba0c6853057&source=constructor":"https://yandex.ru/map-widget/v1/?um=constructor%3A432a35867723fbd4ceb15817a3f56cb94d166839ab3096d3274ce690c0bf34f6&source=constructor";e.src!==n&&(e.src=n)}document.addEventListener("DOMContentLoaded",()=>{i();let e;window.addEventListener("resize",()=>{clearTimeout(e),e=window.setTimeout(i,250)})})}const L=document.body,Ct=parseInt(window.getComputedStyle(L).getPropertyValue("--between-gap")),It=f("#catalog-item",L),Nt=f("#link-form",L),Ft=f("#catalog-info",L),Ot=f("#catalog-info__item",L),S=new Ve,ie=new je(S),k=new $e(f(".catalog",L),S),le=new wt(f("#modal-container",L),S),xt=new Tt(te(Nt),S),Dt=new Et(te(Ft),S);function Pt(){if(Y.length===0){Le&&(Le.style.display="none");return}Lt(Y,S),ee&&Pe(0,ee,Y)}const Le=f(".top-products",L),ee=f(".top-products__viewer",L),U=f(".burger-menu-overlay",L),Te=f(".header__burger-menu-btn",L),Ee=f(".header__navigation",L),_e=f(".header__contacts",L),Rt=f("header",L),Y=Ce.reduce((i,e)=>(e.categoryOffers.forEach(t=>{const r=t.items.filter(n=>n.hit===!0);i.push(...r)}),i),[]).map((i,e)=>({...i,index:ke(e+1)})),qt=i=>{const e=k.getContainer().querySelectorAll(".pagination__item");if(ie.getCatalogItems().length<=4){k.getListContainer().style.overflowX="hidden",k.getListContainer().style.paddingBlockEnd="0";return}i.forEach(t=>{if(t.isIntersecting){let r=function(d){d.preventDefault();const m=Date.now();if(n||m-o<a)return;n=!0,o=m;const p=d.deltaY>0?1:-1,w=p>0,I=k.getListContainer().clientWidth+Ct,C=k.getListContainer().scrollLeft+p*I,_=k.getListContainer().scrollWidth-k.getListContainer().clientWidth,q=Math.max(0,Math.min(C,_));u(w),k.getListContainer().scrollTo({left:q,behavior:"smooth"});const M=()=>{const N=k.getListContainer().scrollLeft,B=N<=10,z=N>=_-10;Math.abs(N-q)<5||B||z?(n=!1,u(),(p>0&&z||p<0&&B)&&(L.style.overflow="",document.removeEventListener("wheel",r))):requestAnimationFrame(M)};setTimeout(()=>{requestAnimationFrame(M)},100)};L.style.overflow="hidden",k.getContainer().scrollIntoView({block:"center",behavior:"smooth"});let n=!1,o=0;const a=1e3,u=d=>{const m=k.getListContainer().scrollLeft;let p=Math.round(m/k.getListContainer().clientWidth);d!==void 0&&(p+=d?1:-1),p>=0&&p<e.length&&(e.forEach(w=>w.classList.remove("pagination__item_accent")),e[p].classList.add("pagination__item_accent"))};u(),document.addEventListener("wheel",r,{passive:!1})}})},Mt=new IntersectionObserver(qt,{rootMargin:"0px 0px",threshold:1});Mt.observe(k.getContainer());S.on(A["catalogItems:changed"],()=>{const i=ie.getCatalogItems().map(e=>new Ke(te(It),S).render(e));k.render({items:i})});S.on(A["linkForm:open"],({title:i})=>{L.style.overflow="hidden",le.modalRender("link-form",{content:xt.render(),isOpen:!0,textTitle:i})});S.on(A["catalogItem:picked"],({id:i})=>{L.style.overflow="hidden";const e=ie.getCatalogCategoryById(i);if(e){const t=e.categoryOffers.map(r=>new _t(te(Ot),S).render(r));le.modalRender("offers-form",{content:Dt.render({...e,content:t}),isOpen:!0,textTitle:e.title})}});S.on(A["modal:close"],()=>{L.style.overflow="",le.render({content:null,isOpen:!1,textTitle:""})});S.on(A["popularItems: picked"],({id:i})=>{ee&&Pe(i,ee,Y)});if(Ee&&_e&&U&&Te){const i=Ee.cloneNode(!0),e=_e.cloneNode(!0);U.appendChild(i),U.appendChild(e),Te?.addEventListener("click",()=>{U?.classList.toggle("burger-menu_active")})}St(Rt);ie.setCatalogItems();Pt();kt();const Bt=Ae('button[name="link-form"]',L);Bt.forEach(i=>i.addEventListener("click",()=>{S.emit(A["linkForm:open"],{title:"Свяжитесь с нами"})}));At();
